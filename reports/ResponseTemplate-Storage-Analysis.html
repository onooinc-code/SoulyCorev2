<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุชุญููู ุงูุจููุฉ ุงูุชุญุชูุฉ ููุชุฎุฒูู ูุงูุฐุงูุฑุฉ | SoulyCore</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap');

        :root {
            --bg-color: #12101c;
            --surface-color: #1c182c;
            --primary-color: #6366f1; /* Indigo */
            --secondary-color: #10b981; /* Emerald */
            --warning-color: #f59e0b; /* Amber */
            --danger-color: #ef4444; /* Red */
            --text-color: #e0e0e0;
            --header-color: #ffffff;
            --border-color: #3a3252;
        }

        body {
            font-family: 'Cairo', sans-serif;
            margin: 0;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        header {
            text-align: center;
            padding-bottom: 40px;
            border-bottom: 2px solid var(--border-color);
            margin-bottom: 40px;
        }

        header h1 {
            font-size: 2.5em;
            color: var(--header-color);
            margin-bottom: 10px;
        }

        header p {
            color: #9ca3af;
            font-size: 1.2em;
        }

        .section-title {
            color: var(--primary-color);
            font-size: 1.8em;
            border-right: 4px solid var(--primary-color);
            padding-right: 15px;
            margin: 40px 0 20px 0;
            background: linear-gradient(90deg, rgba(99, 102, 241, 0.1) 0%, transparent 100%);
            padding-top: 10px;
            padding-bottom: 10px;
        }

        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .card {
            background-color: var(--surface-color);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 20px;
            transition: transform 0.2s;
        }

        .card:hover {
            transform: translateY(-5px);
            border-color: var(--primary-color);
        }

        .status-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .status-active { background-color: rgba(16, 185, 129, 0.2); color: var(--secondary-color); border: 1px solid var(--secondary-color); }
        .status-inactive { background-color: rgba(239, 68, 68, 0.2); color: var(--danger-color); border: 1px solid var(--danger-color); }
        .status-partial { background-color: rgba(245, 158, 11, 0.2); color: var(--warning-color); border: 1px solid var(--warning-color); }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background-color: var(--surface-color);
            border-radius: 8px;
            overflow: hidden;
        }

        th, td {
            padding: 15px;
            text-align: right;
            border-bottom: 1px solid var(--border-color);
        }

        th {
            background-color: rgba(255,255,255,0.05);
            color: var(--primary-color);
        }

        .proposal-box {
            background-color: rgba(99, 102, 241, 0.1);
            border: 1px solid var(--primary-color);
            padding: 20px;
            border-radius: 12px;
            margin-top: 15px;
        }

        .mermaid {
            background-color: #1e1e1e;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            display: flex;
            justify-content: center;
        }
        
        code {
            font-family: 'Consolas', monospace;
            background-color: #2d2a3d;
            padding: 2px 6px;
            border-radius: 4px;
            color: #e090d0;
        }
    </style>
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: true, theme: 'dark', direction: 'rtl' });
    </script>
</head>
<body>

<div class="container">
    <header>
        <h1>ุชุญููู ุงูุจููุฉ ุงูุชุญุชูุฉ ููุชุฎุฒูู ูุงูุฐุงูุฑุฉ</h1>
        <p>ุชูุฑูุฑ ุดุงูู ุนู ุชูููุงุช ุงูุชุฎุฒูู ุงูุญุงููุฉุ ุญุงูุชูุงุ ูุฎุงุฑุทุฉ ุทุฑูู ูุชูุญูุฏ ุงูุฐุงูุฑุฉ ุงููุนุฑููุฉ.</p>
    </header>

    <!-- Section 1: Overview -->
    <div class="section-title">1. ุงููุดูุฏ ุงูุญุงูู ูุชูููุงุช ุงูุชุฎุฒูู</div>
    <p>ููุชูู ูุดุฑูุน <strong>SoulyCore</strong> ุจููุฉ ุชุญุชูุฉ ุบููุฉ ููุชููุนุฉ ููุชุฎุฒููุ ูุตููุฉ ูุฏุนู "ุฐุงูุฑุฉ ูุนุฑููุฉ" ูุนูุฏุฉ. ุงูุฌุฏูู ุงูุชุงูู ููุถุญ ุฌููุน ุงูุชูููุงุช ุงูููุฌูุฏุฉ ูู ุงูููุฏ ุงููุตุฏุฑู ูุญุงูุชูุง ุงูุฑุงููุฉ.</p>
    
    <table>
        <thead>
            <tr>
                <th>ุงูุชูููุฉ (Technology)</th>
                <th>ุงูููุน (Type)</th>
                <th>ุงูุฏูุฑ ุงูุฃุณุงุณู</th>
                <th>ุงูุญุงูุฉ (Status)</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><strong>Vercel Postgres</strong></td>
                <td>Relational (SQL)</td>
                <td>ุงูุฐุงูุฑุฉ ุงููููููุฉ (Entities)ุ ุงูุฐุงูุฑุฉ ุงูุนุฑุถูุฉ (Chats)ุ ุฅุนุฏุงุฏุงุช ุงููุธุงู.</td>
                <td><span class="status-badge status-active">ููุนูุฉ ุจุงููุงูู (Primary)</span></td>
            </tr>
            <tr>
                <td><strong>Pinecone</strong></td>
                <td>Vector Database</td>
                <td>ุงูุฐุงูุฑุฉ ุงูุฏูุงููุฉ (Semantic Memory)ุ ุชุฎุฒูู ุงููุนุฑูุฉ ุงูุนุงูุฉ.</td>
                <td><span class="status-badge status-active">ููุนูุฉ (Core)</span></td>
            </tr>
            <tr>
                <td><strong>Vercel KV (Redis)</strong></td>
                <td>Key-Value Store</td>
                <td>ุงูุฐุงูุฑุฉ ุงูุนุงููุฉ (Working Memory)ุ ุงูุชุฎุฒูู ุงููุคูุชุ ุงูููุงุญุธุงุช ุงูุณุฑูุนุฉ.</td>
                <td><span class="status-badge status-active">ููุนูุฉ (Utility)</span></td>
            </tr>
            <tr>
                <td><strong>Vercel Blob</strong></td>
                <td>Object Storage</td>
                <td>ุชุฎุฒูู ุงููููุงุช ูุงููุฑููุงุช.</td>
                <td><span class="status-badge status-active">ููุนูุฉ</span></td>
            </tr>
            <tr>
                <td><strong>Upstash Vector</strong></td>
                <td>Vector Database</td>
                <td>ุฐุงูุฑุฉ ุงููุชุฌูุงุช ููููุงูุงุช (Entity Vectors).</td>
                <td><span class="status-badge status-partial">ููุนูุฉ ุฌุฒุฆูุงู (Secondary)</span></td>
            </tr>
            <tr>
                <td><strong>EdgeDB</strong></td>
                <td>Graph-Relational</td>
                <td>ุฐุงูุฑุฉ ุงูุฑุณู ุงูุจูุงูู (Graph Memory) ููุนูุงูุงุช ุงููุนูุฏุฉ.</td>
                <td><span class="status-badge status-inactive">ุบูุฑ ูุณุชุฎุฏูุฉ (Dormant)</span></td>
            </tr>
            <tr>
                <td><strong>MongoDB</strong></td>
                <td>NoSQL (Document)</td>
                <td>ุชุฎุฒูู ุงูุณุฌูุงุช ุงูุฎุงู (Logs) ูุงูุจูุงูุงุช ุบูุฑ ุงููููููุฉ.</td>
                <td><span class="status-badge status-inactive">ุบูุฑ ูุณุชุฎุฏูุฉ (Placeholder)</span></td>
            </tr>
        </tbody>
    </table>

    <!-- Section 2: Detailed Breakdown -->
    <div class="section-title">2. ุชูุงุตูู ุงูุงุณุชุฎุฏุงู ูุงูุชูููุงุช ุงูุฎุงููุฉ</div>
    
    <div class="card-grid">
        <div class="card">
            <h3>๐ข ุงูุชูููุงุช ุงูููุนูุฉ (Active)</h3>
            <ul>
                <li><strong>Postgres:</strong> ูู ุงูุนููุฏ ุงูููุฑู ูููุธุงู. ุชุญุชูู ุนูู ุฌุฏุงูู <code>messages</code>, <code>conversations</code>, <code>entity_definitions</code>, <code>relationships</code>.</li>
                <li><strong>Pinecone:</strong> ุชุณุชุฎุฏู ูู <code>ContextAssemblyPipeline</code> ูุงุณุชุฑุฌุงุน ุงููุตูุต ุฐุงุช ุงูุตูุฉ (RAG).</li>
                <li><strong>Vercel KV:</strong> ุชุณุชุฎุฏู ูุชุฎุฒูู ุญุงูุฉ ุงูู Dashboard ูุงูููุงุญุธุงุช ุงูุณุฑูุนุฉ (Quick Notes).</li>
            </ul>
        </div>
        <div class="card">
            <h3>๐ด ุงูุชูููุงุช ุงูุฎุงููุฉ (Inactive)</h3>
            <ul>
                <li><strong>EdgeDB:</strong> ููุฌุฏ ููุฏ ููุง ูู <code>core/memory/modules/graph.ts</code> ูููุชุจุฉ ุงุชุตุงู <code>lib/graphdb.ts</code>ุ ููููุง ุบูุฑ ูุฑุจูุทุฉ ุจู Pipeline ุงููุญุงุฏุซุฉ ุงููุนูู. ูุชู ุงุณุชุฎุฏุงู Postgres ุญุงููุงู ูุชุฎุฒูู ุงูุนูุงูุงุช ุจุฏูุงู ูููุง.</li>
                <li><strong>MongoDB:</strong> ููุฌุฏ ููู <code>lib/mongodb.ts</code> ูููู ูุงุฑุบ ุฃู ุบูุฑ ูุณุชุฎุฏู. ุงููุธุงู ุงูุญุงูู ูุณุชุฎุฏู Postgres ูุชุฎุฒูู ุงูู Logsุ ููู ูุง ูุฏ ูุณุจุจ ุถุบุทุงู ุนูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุฑุฆูุณูุฉ ูุณุชูุจูุงู.</li>
            </ul>
        </div>
    </div>

    <!-- Section 3: Architecture Proposal -->
    <div class="section-title">3. ููุชุฑุญ ุงูููููุฉ ุงูููุญุฏุฉ (Unified Cognitive Architecture)</div>
    <p>ูุชุญููู ุฃูุตู ุงุณุชูุงุฏุฉ ูู ุฌููุน ูุณุงุฆู ุงูุชุฎุฒูู ุงููุชุงุญุฉุ ููุชุฑุญ ุฅุนุงุฏุฉ ุชูุฒูุน ุงูุฃุฏูุงุฑ ูุฎูู "ุฏูุงุบ" ูุชูุงููุ ุญูุซ ุชุชุฎุตุต ูู ุชูููุฉ ูููุง ุชุจุฑุน ููู:</p>

    <div class="mermaid">
    graph TD
        UserInput[ูุญุงุฏุซุฉ ุงููุณุชุฎุฏู] --> ContextPipeline
        
        subgraph "ุทุจูุฉ ุงููุนุงูุฌุฉ (Core Engine)"
            ContextPipeline[ุชุฌููุน ุงูุณูุงู]
            MemoryExtraction[ุงุณุชุฎุฑุงุฌ ุงูุฐุงูุฑุฉ]
        end

        subgraph "ุทุจูุฉ ุงูุชุฎุฒูู ุงููุชุฎุตุตุฉ (Unified Memory)"
            Postgres[(Postgres: ุงูุฐุงูุฑุฉ ุงูุตูุจุฉ)]
            Pinecone[(Pinecone: ุงูุฐุงูุฑุฉ ุงููุนุฑููุฉ)]
            Redis[(KV: ุงูุฐุงูุฑุฉ ุงูุนุงููุฉ)]
            EdgeDB[(EdgeDB: ุงูุฐุงูุฑุฉ ุงูุนูุงุฆููุฉ)]
            Mongo[(MongoDB: ุงูุณุฌู ุงูุชุงุฑูุฎู)]
        end

        ContextPipeline -- ูุฑุงุกุฉ ุงูุณูุงู ุงูุญุงูู --> Redis
        ContextPipeline -- ุงุณุชุฑุฌุงุน ุงูุญูุงุฆู --> Postgres
        ContextPipeline -- ุงุณุชุฑุฌุงุน ุงููุนุฑูุฉ ุงููุดุงุจูุฉ --> Pinecone
        ContextPipeline -- ุงุณุชูุชุงุฌ ุงูุนูุงูุงุช ุงููุนูุฏุฉ --> EdgeDB

        MemoryExtraction -- ุชุฎุฒูู ุงูููุงูุงุช --> Postgres
        MemoryExtraction -- ุชุฎุฒูู ุงููุตูุต --> Pinecone
        MemoryExtraction -- ุจูุงุก ุงูุฌุฑุงู --> EdgeDB
        MemoryExtraction -- ุฃุฑุดูุฉ ุงูุณุฌูุงุช --> Mongo
    </div>

    <div class="proposal-box">
        <h3>๐ ุฎุทุฉ ุงูุชูููุฐ ุงูููุชุฑุญุฉ:</h3>
        <ol>
            <li>
                <strong>ุชูุนูู EdgeDB (ุฐุงูุฑุฉ ุงูุนูุงูุงุช):</strong> 
                ููู ุฌุฏูู <code>entity_relationships</code> ูู Postgres ุฅูู EdgeDB. 
                <br><em>ุงููุงุฆุฏุฉ:</em> EdgeDB ูุชูููุฉ ุฌุฏุงู ูู ุงุณุชุนูุงูุงุช ุงูุฌุฑุงู (ูุซู: "ุงุนุซุฑ ุนูู ุฌููุน ุฃุตุฏูุงุก ุฃุตุฏูุงุก X"). ูุฐุง ุณูุฌุนู ุงุณุชูุชุงุฌุงุช ุงูุฐูุงุก ุงูุงุตุทูุงุนู ุฃุนูู ูุฃุณุฑุน.
            </li>
            <li>
                <strong>ุชูุนูู MongoDB (ุงูุฐุงูุฑุฉ ุงูุฃุฑุดูููุฉ):</strong>
                ููู ุฌุฏูู <code>logs</code> ู <code>endpoint_test_logs</code> ูู Postgres ุฅูู MongoDB.
                <br><em>ุงููุงุฆุฏุฉ:</em> ุงูุณุฌูุงุช ุชููู ุจุณุฑุนุฉ ูุงุฆูุฉ ููุง ุชุญุชุงุฌ ุฅูู ุนูุงูุงุช ูุนูุฏุฉ. ููููุง ุณูุฎูู ุงูุญูู ุนู Postgres ููุณูุญ ุจุชุฎุฒูู ูุงุฆูุงุช JSON ุถุฎูุฉ (ูุซู ุงุณุชุฌุงุจุงุช ุงูู API ุงููุงููุฉ) ุฏูู ููู.
            </li>
            <li>
                <strong>ุชุฎุตูุต Upstash Vector (ุงูุฐุงูุฑุฉ ุงูุดุฎุตูุฉ):</strong>
                ุงุณุชุฎุฏุงู Pinecone ูููุนุฑูุฉ ุงูุนุงูุฉ (ูุชุจุ ููุงูุงุช)ุ ูุชุฎุตูุต Upstash Vector ูู "ุจุตูุงุช ุงููุณุชุฎุฏู" (User Persona Embeddings) ูุงูุฐูุฑูุงุช ุงูุดุฎุตูุฉ ุฌุฏุงู. ูุฐุง ุงููุตู ูุญุณู ุฏูุฉ ุงูุจุญุซ.
            </li>
            <li>
                <strong>ุชุนุฒูุฒ Vercel KV (ุงูุฐุงูุฑุฉ ูุตูุฑุฉ ุงููุฏู):</strong>
                ุงุณุชุฎุฏุงููุง ูุชุฎุฒูู "ุณูุงู ุงููุญุงุฏุซุฉ ุงูุญุงููุฉ" (Last 10 turns) ุจุฏูุงู ูู ุงูุงุณุชุนูุงู ุนููุง ูู Postgres ูู ูู ุฑุณุงูุฉุ ููุง ูููู ุฒูู ุงูุงุณุชุฌุงุจุฉ (Latency).
            </li>
        </ol>
    </div>

    <div class="section-title">4. ุงูุฎูุงุตุฉ</div>
    <p>ุงููุดุฑูุน ููุชูู ุญุงููุงู <strong>ุฃููู ุจููุฉ ุชุญุชูุฉ ููููุฉ</strong> ูุชุทุจูู ุฐูุงุก ุงุตุทูุงุนู ุญุฏูุซ. ุงูุชุญุฏู ุงูุญุงูู ููุณ ูู "ุฅุถุงูุฉ" ุชูููุงุช ุฌุฏูุฏุฉุ ุจู ูู "ุชูุนูู" ุงูุชูููุงุช ุงูุฎุงููุฉ (EdgeDB & Mongo) ูุฑุจุทูุง ุจุฐูุงุก ุถูู ุงูู Pipelines ุงูุญุงููุฉ.</p>

</div>

</body>
</html>