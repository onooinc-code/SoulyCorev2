<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HedraCore | تصحيح آلية العمل وتوحيد القواعد</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap');
        :root {
            --bg-color: #12101c; --surface-color: #1c182c; --primary-color: #a450e8; --secondary-color: #00bcd4; --text-color: #e0e0e0; --header-color: #ffffff; --border-color: #3a3252; --shadow-color: rgba(164, 80, 232, 0.2); --success-color: #4caf50; --error-color: #f44336; --warning-color: #ff9800; --font-size-base: 1rem;
        }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes slideInRight { from { opacity: 0; transform: translateX(-30px); } to { opacity: 1; transform: translateX(0); } }
        body { font-family: 'Cairo', sans-serif; margin: 0; background-color: var(--bg-color); color: var(--text-color); line-height: 1.8; direction: rtl; font-size: var(--font-size-base); }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        header { text-align: center; padding: 80px 20px; background: linear-gradient(135deg, rgba(28, 24, 44, 0.9), rgba(18, 16, 28, 0.95)); border-bottom: 3px solid var(--primary-color); margin-bottom: 50px; position: relative; overflow: hidden; }
        header h1 { font-size: 3.8em; color: var(--header-color); margin: 0; font-weight: 700; text-shadow: 0 0 20px var(--shadow-color); animation: fadeIn 1s ease-out; }
        header p { font-size: 1.4em; color: #b0a8d8; margin-top: 15px; animation: fadeIn 1.2s ease-out; }
        .section { animation: fadeIn 1s ease-out; animation-fill-mode: both; }
        h2 { font-size: 2.8em; color: var(--primary-color); border-bottom: 2px solid var(--border-color); padding-bottom: 15px; margin-top: 60px; margin-bottom: 30px; display: flex; align-items: center; gap: 15px; }
        h3 { font-size: 1.9em; color: var(--secondary-color); margin-top: 40px; margin-bottom: 20px; }
        .card { background-color: var(--surface-color); border-radius: 12px; padding: 25px 30px; margin-bottom: 25px; border: 1px solid var(--border-color); box-shadow: 0 8px 30px rgba(0,0,0,0.3); animation: slideInRight 0.8s ease-out; }
        .header-icon { width: 48px; height: 48px; color: var(--primary-color); flex-shrink: 0; }
        pre.mermaid { background-color: #0d1117; padding: 20px; border-radius: 8px; margin: 25px auto; text-align: center; border: 1px solid var(--border-color); box-shadow: 0 0 15px rgba(0, 189, 212, 0.1); }
        blockquote { background-color: rgba(244, 67, 54, 0.1); border-right: 5px solid var(--error-color); padding: 15px 20px; margin: 20px 0; border-radius: 8px; font-weight: 600; }
        .card ul { padding-right: 20px; }
        .card code { font-family: monospace; background: #2a243e; padding: 0.2em 0.4em; border-radius: 4px; font-size: 0.9em; color: #c792ea; direction: ltr; display: inline-block; }
        footer { text-align: center; margin-top: 80px; padding: 30px; border-top: 1px solid var(--border-color); color: #888; }
    </style>
    <script type="module">
        try {
            const mermaid = (await import('https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs')).default;
            mermaid.initialize({ startOnLoad: true, theme: 'dark', securityLevel: 'loose', fontFamily: '"Cairo", sans-serif' });
        } catch(e) { console.error("Could not load Mermaid.js", e); }
    </script>
</head>
<body class="arabic">
    <header>
        <h1 id="main-title">تقرير توحيد وثائق المشروع وتصحيح آلية العمل</h1>
        <p id="main-subtitle">تقرير رقم 12: إنشاء `project_rules.md` وتأكيد الالتزام بالبروتوكول</p>
    </header>

    <div class="container">
        <div class="section" style="animation-delay: 0.2s;">
            <h2>
                <svg xmlns="http://www.w3.org/2000/svg" class="header-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                ملخص تنفيذي
            </h2>
            <div class="card">
                <blockquote>أعتذر مرة أخرى عن الإغفال في الرد السابق. لقد كان تذكيرك في محله تمامًا، وهو أمر ضروري للحفاظ على جودة واحترافية العمل.</blockquote>
                <p>استجابة لملاحظتك، قمت بإجراء تصحيحي جوهري لضمان عدم تكرار هذا الخطأ. لقد قمت بتجميع كل القواعد والتوجيهات التي نعمل بها في ملف رسمي واحد وموثوق: <code>project_rules.md</code>. هذا الملف هو الآن "مصدر الحقيقة" (Single Source of Truth) لجميع عمليات التطوير، مما يضمن الاتساق والوضوح في كل خطوة.</p>
            </div>
        </div>
        
        <div class="section" style="animation-delay: 0.4s;">
            <h2>
                <svg xmlns="http://www.w3.org/2000/svg" class="header-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                المشكلة: قواعد ضمنية وغير موثقة
            </h2>
            <div class="card">
                <h3>لماذا كان الإغفال ممكنًا؟</h3>
                <p>كانت قواعد العمل تُعطى كجزء من التعليمات العامة، ولكنها لم تكن موثقة في ملف مركزي داخل المشروع. هذا يجعل من السهل إغفالها عن غير قصد بمرور الوقت.</p>
                <pre class="mermaid" dir="ltr">
                    graph TD
                        A["Implicit Rules (in prompt history)"] --> B{Agent Memory};
                        B --> C["Inconsistent Execution"];
                        C --> D(Potential for Errors & Deviation);
                </pre>
            </div>
        </div>

        <div class="section" style="animation-delay: 0.6s;">
            <h2>
                <svg xmlns="http://www.w3.org/2000/svg" class="header-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M19.428 15.428a2.25 2.25 0 003.072 0l-.548-.547a2.25 2.25 0 01.02-3.182l2.122-2.121a2.25 2.25 0 00-3.182-3.182L16.5 7.5M5.572 7.572a2.25 2.25 0 000 3.182l.547.547a2.25 2.25 0 01-3.182.02l-2.121-2.122a2.25 2.25 0 00-3.182 3.182L7.5 16.5m.518-4.471A2.25 2.25 0 0010.5 9.75h3.75a2.25 2.25 0 001.685-3.882" /></svg>
                الحل: إنشاء <code>project_rules.md</code>
            </h2>
            <div class="card">
                <h3>توثيق القواعد بشكل رسمي</h3>
                <p>لقد قمت بإنشاء ملف <code>project_rules.md</code> في جذر المشروع. هذا الملف يحتوي على 5 أقسام رئيسية تحدد آلية العمل بدقة:</p>
                <ol>
                    <li><strong>المبدأ الأساسي:</strong> التأكيد على أن هذا الملف هو المرجع الوحيد.</li>
                    <li><strong>بروتوكول التفاعل العام:</strong> التمييز بين الرد على الأسئلة وطلبات التعديل.</li>
                    <li><strong>جودة الكود والتطوير:</strong> الالتزام بالبنية، إرشادات Gemini، والجودة العالية.</li>
                    <li><strong>بروتوكول الرد المزدوج:</strong> شرح آلية الـ XML ثم الـ HTML.</li>
                    <li><strong>إدارة القواعد:</strong> آلية تحديث هذا الملف نفسه.</li>
                </ol>
                <p>سيضمن هذا الملف أن تكون القواعد دائمًا متاحة ومحدثة، مما يمنع أي انحراف عن المسار المتفق عليه.</p>
                 <pre class="mermaid" dir="ltr">
                    graph TD
                        A["project_rules.md (Single Source of Truth)"] --> B{Agent Onboarding};
                        B --> C["Consistent & Professional Execution"];
                        C --> D(High-Quality & Predictable Results);
                </pre>
            </div>
        </div>

         <div class="section" style="animation-delay: 0.8s;">
            <h2>
                <svg xmlns="http://www.w3.org/2000/svg" class="header-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M17 8l4 4m0 0l-4 4m4-4H3" /></svg>
                الخطوات التالية
            </h2>
             <div class="card">
                <p>مع وجود هذا الدليل الرسمي، أصبحت الآن مجهزًا بشكل أفضل لتلبية متطلباتك بدقة واحترافية. أنا جاهز تمامًا للبدء في المهمة التالية، مع الالتزام الكامل بالقواعد الموثقة في <code>project_rules.md</code>.</p>
            </div>
        </div>
    </div>
    <footer>
        <p>HedraCore Cognitive Architecture v3.0 - © 2025</p>
    </footer>
</body>
</html>